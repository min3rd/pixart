@if (isOpen()) {
<div
  [id]="modalId() + '-backdrop'"
  class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
  (click)="handleBackdropClick($event)"
  role="dialog"
  [attr.aria-modal]="true"
  [attr.aria-labelledby]="modalId() + '-title'"
>
  <div
    [id]="modalId() + '-container'"
    [class]="'bg-white dark:bg-neutral-800 rounded-sm shadow-lg w-full max-h-[90vh] flex flex-col ' + getSizeClass()"
    (click)="$event.stopPropagation()"
  >
    @if (title() || showCloseButton()) {
    <div
      [id]="modalId() + '-header'"
      class="px-4 py-3 border-b border-neutral-200 dark:border-neutral-700 flex items-center justify-between"
    >
      @if (title()) {
      <h2
        [id]="modalId() + '-title'"
        class="text-lg font-semibold text-neutral-900 dark:text-neutral-100"
      >
        {{ title() }}
      </h2>
      } @if (showCloseButton()) {
      <button
        type="button"
        [id]="modalId() + '-close-button'"
        class="p-1 rounded-sm hover:bg-neutral-100 dark:hover:bg-neutral-700"
        (click)="handleClose()"
        [title]="'modal.close' | transloco"
        [attr.aria-label]="'modal.close' | transloco"
      >
        <ng-icon name="heroXMark" class="w-5 h-5"></ng-icon>
      </button>
      }
    </div>
    }

    <div [id]="modalId() + '-content'" class="flex-1 overflow-y-auto px-4 py-3">
      <ng-content></ng-content>
    </div>

    <div [id]="modalId() + '-footer'" class="px-4 py-3">
      <ng-content select="[modal-footer]"></ng-content>
    </div>
  </div>
</div>
}
